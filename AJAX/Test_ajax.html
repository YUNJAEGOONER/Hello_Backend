<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>test_ajax</title>
</head>
<body>

<script>
    <!--client code-->


    function onReadyStateChange(event){
        if (ajaxRequest.readyState === XMLHttpRequest.DONE){
            //HTTP 요청이 성공한 경우 -> 200
            if(ajaxRequest.status === 200) {
                //ajaxRequest.responseText -> 응답으로 온 값
                console.log(ajaxRequest.responseText);
            }
            else{
                console.error('request failed');
            }
        }
    }

    //XMLHttpRequest 객체 생성 -> XMLHttpRequest 객체를 통해 AJAX 요청
    const ajaxRequest = new XMLHttpRequest();

    //ajaxRequest(XMLHttpRequest 객체)의 값 설정

    //요청이 성공하고 응답이 온 경우 어떤 동작을 해야하는지
    //readystate가 변경되었을 때, 실행되는 event handler 등록
    ajaxRequest.onreadystatechange = onReadyStateChange;
    //HTTP 요청 초기화 (method 방식, 어떤 경로로 요청을 할지)
    ajaxRequest.open('GET', '/get-with-no-parameter');
    //HTTP 요청 전송
    ajaxRequest.send();

</script>

</body>
</html>